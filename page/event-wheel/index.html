<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1,minimum-scale=1,maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="../../css/style.css">
    <title>Event wheel</title>
  </head>
  <body>

  <main id="main" role="main">
    <h1>Event wheel</h1> 

    <a class="back" href="/my-scripts/">Назад</a>
    
    <section class="demonstration">

      <div id="wheel-one" class="container-wheel">
        <div id="move-one"></div>
      </div>

      <div id="wheel-two" class="container-wheel">
        <div id="move-two"></div>
      </div>

    </section>

<pre class="javascript" style="font-family:monospace;">_wheel.<span style="color: #660066;">Initialize</span><span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>object<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #000066; font-weight: bold;">return</span> <span style="color: #009900;">&#91;</span>
    <span style="color: #009900;">&#123;</span>
      <span style="color: #006600; font-style: italic;">// В рамках этого элемента сработает событие колеса мыши</span>
      element<span style="color: #339933;">:</span> document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'wheel-one'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
&nbsp;
      <span style="color: #006600; font-style: italic;">// Задержка между событием</span>
      delay<span style="color: #339933;">:</span> <span style="color: #CC0000;">50</span><span style="color: #339933;">,</span>
&nbsp;
      <span style="color: #006600; font-style: italic;">// Счётчик от (&lt; начальное значение &gt;) до (&lt; конечное значение &gt;)</span>
      range<span style="color: #339933;">:</span> <span style="color: #3366CC;">'from (0) to (-19)'</span><span style="color: #339933;">,</span>
&nbsp;
      <span style="color: #006600; font-style: italic;">// Колесо вниз</span>
      wheelBottom<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>obj<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'move-one'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">style</span>.<span style="color: #660066;">left</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">-</span><span style="color: #009900;">&#40;</span>obj.<span style="color: #660066;">counter</span> <span style="color: #339933;">*</span> <span style="color: #CC0000;">5</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">'%'</span><span style="color: #339933;">;</span>
      <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
&nbsp;
      <span style="color: #006600; font-style: italic;">// Колесо вверх</span>
      wheelTop<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>obj<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'move-one'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">style</span>.<span style="color: #660066;">left</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">-</span><span style="color: #009900;">&#40;</span>obj.<span style="color: #660066;">counter</span> <span style="color: #339933;">*</span> <span style="color: #CC0000;">5</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">'%'</span><span style="color: #339933;">;</span>
      <span style="color: #009900;">&#125;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
&nbsp;
    <span style="color: #009900;">&#123;</span>
      element<span style="color: #339933;">:</span> document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'wheel-two'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
      delay<span style="color: #339933;">:</span> <span style="color: #CC0000;">50</span><span style="color: #339933;">,</span>
      range<span style="color: #339933;">:</span> <span style="color: #3366CC;">'from (0) to (-100)'</span><span style="color: #339933;">,</span>
      wheelBottom<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>obj<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        rotateElement<span style="color: #009900;">&#40;</span><span style="color: #339933;">-</span><span style="color: #009900;">&#40;</span>obj.<span style="color: #660066;">counter</span> <span style="color: #339933;">*</span> <span style="color: #CC0000;">50</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
      <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
      wheelTop<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>obj<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        rotateElement<span style="color: #009900;">&#40;</span><span style="color: #339933;">-</span><span style="color: #009900;">&#40;</span>obj.<span style="color: #660066;">counter</span> <span style="color: #339933;">*</span> <span style="color: #CC0000;">50</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
      <span style="color: #009900;">&#125;</span>
    <span style="color: #009900;">&#125;</span>
  <span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000066; font-weight: bold;">function</span> rotateElement<span style="color: #009900;">&#40;</span>value<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #000066; font-weight: bold;">var</span> div <span style="color: #339933;">=</span> document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'move-two'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  div.<span style="color: #660066;">style</span>.<span style="color: #660066;">webkitTransform</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'rotate('</span><span style="color: #339933;">+</span>value<span style="color: #339933;">+</span><span style="color: #3366CC;">'deg)'</span><span style="color: #339933;">;</span> 
  div.<span style="color: #660066;">style</span>.<span style="color: #660066;">mozTransform</span>    <span style="color: #339933;">=</span> <span style="color: #3366CC;">'rotate('</span><span style="color: #339933;">+</span>value<span style="color: #339933;">+</span><span style="color: #3366CC;">'deg)'</span><span style="color: #339933;">;</span> 
  div.<span style="color: #660066;">style</span>.<span style="color: #660066;">msTransform</span>     <span style="color: #339933;">=</span> <span style="color: #3366CC;">'rotate('</span><span style="color: #339933;">+</span>value<span style="color: #339933;">+</span><span style="color: #3366CC;">'deg)'</span><span style="color: #339933;">;</span> 
  div.<span style="color: #660066;">style</span>.<span style="color: #660066;">oTransform</span>      <span style="color: #339933;">=</span> <span style="color: #3366CC;">'rotate('</span><span style="color: #339933;">+</span>value<span style="color: #339933;">+</span><span style="color: #3366CC;">'deg)'</span><span style="color: #339933;">;</span> 
  div.<span style="color: #660066;">style</span>.<span style="color: #660066;">transform</span>       <span style="color: #339933;">=</span> <span style="color: #3366CC;">'rotate('</span><span style="color: #339933;">+</span>value<span style="color: #339933;">+</span><span style="color: #3366CC;">'deg)'</span><span style="color: #339933;">;</span>  
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #006600; font-style: italic;">// '_wheel.AllData' - все события</span>
_wheel.<span style="color: #660066;">Start</span><span style="color: #009900;">&#40;</span>_wheel.<span style="color: #660066;">AllData</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre>

  </main>
    
  <script src="../../js/event-wheel.js"></script>
  
  <script id="script">

_wheel.Initialize(function(object) {
  return [
    {
      // В рамках этого элемента сработает событие колеса мыши
      element: document.getElementById('wheel-one'),

      // Задержка между событием
      delay: 50,

      // Счётчик от (< начальное значение >) до (< конечное значение >)
      range: 'from (0) to (-19)',

      // Колесо вниз
      wheelBottom: function(obj) {
        document.getElementById('move-one').style.left = (-(obj.counter * 5)) + '%';
      },

      // Колесо вверх
      wheelTop: function(obj) {
        document.getElementById('move-one').style.left = (-(obj.counter * 5)) + '%';
      }
    },

    {
      element: document.getElementById('wheel-two'),
      delay: 50,
      range: 'from (0) to (-100)',
      wheelBottom: function(obj) {
        rotateElement(-(obj.counter * 50));
      },
      wheelTop: function(obj) {
        rotateElement(-(obj.counter * 50));
      }
    }
  ];
});

function rotateElement(value) {
  var div = document.getElementById('move-two');
  div.style.webkitTransform = 'rotate('+value+'deg)'; 
  div.style.mozTransform    = 'rotate('+value+'deg)'; 
  div.style.msTransform     = 'rotate('+value+'deg)'; 
  div.style.oTransform      = 'rotate('+value+'deg)'; 
  div.style.transform       = 'rotate('+value+'deg)';  
}

// '_wheel.AllData' - все события
_wheel.Start(_wheel.AllData);
  </script>

  </body>
</html>
