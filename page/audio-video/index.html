<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1,minimum-scale=1,maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="../../css/style.css">
    <title>Audio-Video</title>
  </head>
  <body>

  <main id="main" role="main">
    <h1>Audio & Video</h1> 

    <a class="back" href="/my-scripts/">Назад</a>
    
    <section class="demonstration">

      <div class="audio">
        <h2>Audio</h2>
        <div class="new-progress">
          <div class="load-progress"></div>
          <div class="progress"></div>
        </div>
        <div class="new-volume"></div>
        <p>
          <span class="new-startTime"></span> /
          <span class="new-endTime"></span>
        </p>
        <div class="naviagtion-av">
          <div class="new-play">play</div>
          <div class="new-pause">pause</div>
          <div class="new-stop">stop</div>
        </div>
      </div>

      <div class="video">
        <h2>Video</h2>
        <video id="video"></video>
        <div class="new-progress">
          <div class="load-progress"></div>
          <div class="progress"></div>
        </div>
        <div class="new-volume"></div>
        <p>
          <span class="new-startTime"></span> /
          <span class="new-endTime"></span>
        </p>
        <div class="naviagtion-av">
          <div class="new-play">play</div>
          <div class="new-pause">pause</div>
          <div class="new-stop">stop</div>
        </div>
      </div>

    </section>

<pre class="javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> audioVideo <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">new</span> AudioVideo<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span>
  <span style="color: #009900;">&#123;</span>
    <span style="color: #006600; font-style: italic;">// Autoplay</span>
    <span style="color: #006600; font-style: italic;">//autoPlay: true,</span>
    path<span style="color: #339933;">:</span> <span style="color: #009900;">&#91;</span>
      <span style="color: #3366CC;">'http://apps.ua/mp3/music.mp3'</span>
    <span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span>
&nbsp;
    <span style="color: #006600; font-style: italic;">// 'loadProgress' - в процесе</span>
    loadProgress<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>value<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
      document.<span style="color: #660066;">getElementsByClassName</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'load-progress'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">0</span><span style="color: #009900;">&#93;</span>
        .<span style="color: #660066;">style</span>.<span style="color: #660066;">width</span> <span style="color: #339933;">=</span> value <span style="color: #339933;">+</span> <span style="color: #3366CC;">'%'</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
&nbsp;
    <span style="color: #006600; font-style: italic;">// 'end' - после окончания</span>
    end<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>val<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
      console.<span style="color: #660066;">log</span><span style="color: #009900;">&#40;</span>val<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
&nbsp;
    <span style="color: #006600; font-style: italic;">// 'error' - если браузер не поддерживает</span>
    error<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>infoError<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
      console.<span style="color: #660066;">log</span><span style="color: #009900;">&#40;</span>infoError<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
&nbsp;
    <span style="color: #006600; font-style: italic;">// Контроль над элементами навигации</span>
    controls<span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span>
&nbsp;
      <span style="color: #006600; font-style: italic;">// Громкость начальная </span>
      valueVolume<span style="color: #339933;">:</span> <span style="color: #CC0000;">50</span><span style="color: #339933;">,</span>
&nbsp;
      <span style="color: #006600; font-style: italic;">// Позиция трека начальная</span>
      <span style="color: #006600; font-style: italic;">//valueProgress: 50,</span>
&nbsp;
      <span style="color: #006600; font-style: italic;">// Если элемент управления вертикальный, а не горизонтальный</span>
      <span style="color: #006600; font-style: italic;">// К этому необходимо корректировку стилей</span>
      <span style="color: #006600; font-style: italic;">//verticalVolume: true,</span>
&nbsp;
      <span style="color: #006600; font-style: italic;">// Элемент управления для 'play'</span>
      play<span style="color: #339933;">:</span> <span style="color: #3366CC;">'new-play'</span><span style="color: #339933;">,</span>
&nbsp;
      <span style="color: #006600; font-style: italic;">// Для 'pause'</span>
      pause<span style="color: #339933;">:</span> <span style="color: #3366CC;">'new-pause'</span><span style="color: #339933;">,</span>
&nbsp;
      <span style="color: #006600; font-style: italic;">// Для 'stop'</span>
      stop<span style="color: #339933;">:</span> <span style="color: #3366CC;">'new-stop'</span><span style="color: #339933;">,</span>
&nbsp;
      <span style="color: #006600; font-style: italic;">// Для 'progress'</span>
      progress<span style="color: #339933;">:</span> <span style="color: #3366CC;">'progress'</span><span style="color: #339933;">,</span>
&nbsp;
      <span style="color: #006600; font-style: italic;">// Для 'volume'</span>
      volume<span style="color: #339933;">:</span> <span style="color: #3366CC;">'new-volume'</span><span style="color: #339933;">,</span>
&nbsp;
      <span style="color: #006600; font-style: italic;">// Таймер отщёта с начала трека</span>
      tagStartTime<span style="color: #339933;">:</span> <span style="color: #3366CC;">'new-startTime'</span><span style="color: #339933;">,</span>
&nbsp;
      <span style="color: #006600; font-style: italic;">// Таймер отщёта с конца трека</span>
      tagEndTime<span style="color: #339933;">:</span> <span style="color: #3366CC;">'new-endTime'</span>
    <span style="color: #009900;">&#125;</span>
  <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
  <span style="color: #009900;">&#123;</span>
    <span style="color: #006600; font-style: italic;">//autoPlay: true,</span>
&nbsp;
    <span style="color: #006600; font-style: italic;">// Для активации видео</span>
    video<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">true</span><span style="color: #339933;">,</span>
&nbsp;
    <span style="color: #006600; font-style: italic;">// Элемент c id &lt;video id=&quot;video&quot;&gt;</span>
    element<span style="color: #339933;">:</span> <span style="color: #3366CC;">'video'</span><span style="color: #339933;">,</span>
    path<span style="color: #339933;">:</span> <span style="color: #009900;">&#91;</span>
      <span style="color: #3366CC;">'http://www.cantinanegrar.it/asset/video/amarone.ogv'</span><span style="color: #339933;">,</span>
      <span style="color: #3366CC;">'http://www.cantinanegrar.it/asset/video/amarone.mp4'</span>
    <span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span>
    loadProgress<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>value<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
      document.<span style="color: #660066;">getElementsByClassName</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'load-progress'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #009900;">&#93;</span>
        .<span style="color: #660066;">style</span>.<span style="color: #660066;">width</span> <span style="color: #339933;">=</span> value <span style="color: #339933;">+</span> <span style="color: #3366CC;">'%'</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
    end<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>val<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
      console.<span style="color: #660066;">log</span><span style="color: #009900;">&#40;</span>val<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
    error<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>infoError<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
      console.<span style="color: #660066;">log</span><span style="color: #009900;">&#40;</span>infoError<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
    controls<span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span>
      valueVolume<span style="color: #339933;">:</span> <span style="color: #CC0000;">10</span><span style="color: #339933;">,</span>
      <span style="color: #006600; font-style: italic;">//valueProgress: 50,</span>
      <span style="color: #006600; font-style: italic;">//verticalVolume: true,</span>
      play<span style="color: #339933;">:</span> <span style="color: #3366CC;">'new-play'</span><span style="color: #339933;">,</span>
      pause<span style="color: #339933;">:</span> <span style="color: #3366CC;">'new-pause'</span><span style="color: #339933;">,</span>
      stop<span style="color: #339933;">:</span> <span style="color: #3366CC;">'new-stop'</span><span style="color: #339933;">,</span>
      progress<span style="color: #339933;">:</span> <span style="color: #3366CC;">'progress'</span><span style="color: #339933;">,</span>
      volume<span style="color: #339933;">:</span> <span style="color: #3366CC;">'new-volume'</span><span style="color: #339933;">,</span>
      tagStartTime<span style="color: #339933;">:</span> <span style="color: #3366CC;">'new-startTime'</span><span style="color: #339933;">,</span>
      tagEndTime<span style="color: #339933;">:</span> <span style="color: #3366CC;">'new-endTime'</span>
    <span style="color: #009900;">&#125;</span>
  <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
&nbsp;
<span style="color: #006600; font-style: italic;">// ******************************API******************************</span>
<span style="color: #006600; font-style: italic;">// audioVideo.Play(&lt; index элемента массива &gt;); </span>
<span style="color: #006600; font-style: italic;">// audioVideo.Play(0);</span>
&nbsp;
<span style="color: #006600; font-style: italic;">// audioVideo.Stop(&lt; index &gt;);</span>
&nbsp;
<span style="color: #006600; font-style: italic;">// audioVideo.Pause(&lt; index &gt;);</span>
&nbsp;
<span style="color: #006600; font-style: italic;">// audioVideo.Progress(&lt; index &gt;, &lt; перемотка от 0 до 100 &gt;);</span>
<span style="color: #006600; font-style: italic;">// audioVideo.Progress(1, 20);</span>
&nbsp;
<span style="color: #006600; font-style: italic;">// audioVideo.Volume(&lt; index &gt;, &lt; +/- 0-100 &gt;);</span>
&nbsp;
<span style="color: #006600; font-style: italic;">// вытащить текущюю позицию трека</span>
<span style="color: #006600; font-style: italic;">// audioVideo.ValueProgress(&lt; index &gt;);</span>
&nbsp;
<span style="color: #006600; font-style: italic;">// audioVideo.Track(&lt; index &gt;, [&lt; путь к треку mp3/mp4/ogv/ogg &gt;]);</span>
<span style="color: #006600; font-style: italic;">/*
  audioVideo.Track(0, 
    [
      'https://www.mp3poisk.me/dl/468794-ludacris-srart-(www.mp3poisk.me).mp3'
    ]
  );
*/</span></pre>

  </main>
    
  <script src="../../js/audio-video.js"></script>
  
  <script id="script">
var audioVideo = new AudioVideo([
  {
    // Autoplay
    //autoPlay: true,
    path: [
      'http://apps.ua/mp3/music.mp3'
    ],

    // 'loadProgress' - в процесе
    loadProgress: function (value) {
      document.getElementsByClassName('load-progress')[0]
        .style.width = value + '%';
    },

    // 'end' - после окончания
    end: function (val) {
      console.log(val);
    },

    // 'error' - если браузер не поддерживает
    error: function (infoError) {
      console.log(infoError);
    },

    // Контроль над элементами навигации
    controls: {

      // Громкость начальная 
      valueVolume: 50,

      // Позиция трека начальная
      //valueProgress: 50,

      // Если элемент управления вертикальный, а не горизонтальный
      // К этому необходимо корректировку стилей
      //verticalVolume: true,

      // Элемент управления для 'play'
      play: 'new-play',

      // Для 'pause'
      pause: 'new-pause',

      // Для 'stop'
      stop: 'new-stop',

      // Для 'progress'
      progress: 'progress',

      // Для 'volume'
      volume: 'new-volume',

      // Таймер отщёта с начала трека
      tagStartTime: 'new-startTime',

      // Таймер отщёта с конца трека
      tagEndTime: 'new-endTime'
    }
  },
  {
    //autoPlay: true,

    // Для активации видео
    video: true,

    // Элемент c id <video id="video">
    element: 'video',
    path: [
      'http://www.cantinanegrar.it/asset/video/amarone.ogv',
      'http://www.cantinanegrar.it/asset/video/amarone.mp4'
    ],
    loadProgress: function (value) {
      document.getElementsByClassName('load-progress')[1]
        .style.width = value + '%';
    },
    end: function (val) {
      console.log(val);
    },
    error: function (infoError) {
      console.log(infoError);
    },
    controls: {
      valueVolume: 10,
      //valueProgress: 50,
      //verticalVolume: true,
      play: 'new-play',
      pause: 'new-pause',
      stop: 'new-stop',
      progress: 'progress',
      volume: 'new-volume',
      tagStartTime: 'new-startTime',
      tagEndTime: 'new-endTime'
    }
  }
]);


// ******************************API******************************
// audioVideo.Play(< index элемента массива >); 
// audioVideo.Play(0);

// audioVideo.Stop(< index >);

// audioVideo.Pause(< index >);

// audioVideo.Progress(< index >, < перемотка от 0 до 100 >);
// audioVideo.Progress(1, 20);

// audioVideo.Volume(< index >, < +/- 0-100 >);

// вытащить текущюю позицию трека
// audioVideo.ValueProgress(< index >);

// audioVideo.Track(< index >, [< путь к треку mp3/mp4/ogv/ogg >]);
/*
  audioVideo.Track(0, 
    [
      'https://www.mp3poisk.me/dl/468794-ludacris-srart-(www.mp3poisk.me).mp3'
    ]
  );
*/
  </script>

  </body>
</html>
