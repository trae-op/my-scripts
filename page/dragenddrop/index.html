<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1,minimum-scale=1,maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="../../css/style.css">
    <title>Drag end Drop</title>
  </head>
  <body>

  <main id="main" role="main">
    <h1>Drag end Drop</h1> 

    <a class="back" href="/my-scripts/">Назад</a>
    <section class="demonstration">

      <ul class="position-dragenddrop">
        <li id="all"></li>
        <li id="x"></li>
        <li id="y"></li>
      </ul>

      <div class="container-dragenddrop">
        <div class="move-dragenddrop"></div>
      </div>

      <div class="container-dragenddrop">
        <div class="move-dragenddrop"></div>
      </div>

      <div class="container-dragenddrop">
        <div class="move-dragenddrop"></div>
      </div>

    </section>

    <pre id="pre"></pre>

  </main>
    
  <script src="../../js/move-element.js"></script>
  
  <script id="script">
new MoveElement([
  {
    container: document.getElementsByClassName('container-dragenddrop')[0],
    element: document.getElementsByClassName('move-dragenddrop')[0],

    // ОТОБРАЗИТЬ СТАРТОВЫЕ ПОЗИЦИИ
    showPosition: function(obj) {
      document.getElementById('all').textContent = 'X:' + obj.x + ' Y:' + obj.y;
    },

    // СОБЫТИЯ:
    // 'start' - (mousedown/touchstart)
    // 'move' - (mousemove/touchmove)
    // 'stop' - (mouseup/touchend)
    events: function(obj) {
      if (obj.checkEvent === 'start') {
        document.getElementById('all').textContent = 'X:' + obj.x + ' Y:' + obj.y;
      }
      if (obj.checkEvent === 'move') {
        document.getElementById('all').textContent = 'X:' + obj.x + ' Y:' + obj.y;
      }
      if (obj.checkEvent === 'stop') {
        document.getElementById('all').textContent = 'X:' + obj.x + ' Y:' + obj.y;
      }
    }
  }, {
    container: document.getElementsByClassName('container-dragenddrop')[1],
    element: document.getElementsByClassName('move-dragenddrop')[1],
    positionAxis: 'x',
    showPosition: function(obj) {
      document.getElementById('x').textContent = 'X:' + obj.x;
    },
    events: function(obj) {
      if (obj.checkEvent === 'start') {
        document.getElementById('x').textContent = 'X:' + obj.x;
      }
      if (obj.checkEvent === 'move') {
        document.getElementById('x').textContent = 'X:' + obj.x;
      }
      if (obj.checkEvent === 'stop') {
        document.getElementById('x').textContent = 'X:' + obj.x;
      }
    }
  }, {
    container: document.getElementsByClassName('container-dragenddrop')[2],
    element: document.getElementsByClassName('move-dragenddrop')[2],
    positionAxis: 'y',
    showPosition: function(obj) {
      document.getElementById('y').textContent = 'Y:' + obj.y;
    },
    events: function(obj) {
      if (obj.checkEvent === 'start') {
        document.getElementById('y').textContent = 'Y:' + obj.y;
      }
      if (obj.checkEvent === 'move') {
        document.getElementById('y').textContent = 'Y:' + obj.y;
      }
      if (obj.checkEvent === 'stop') {
        document.getElementById('y').textContent = 'Y:' + obj.y;
      }
    }
  }
]);
  </script>

  <script>
  var code = document.getElementById('script').textContent;
  document.getElementById('pre').textContent = code;
  </script>

  </body>
</html>
