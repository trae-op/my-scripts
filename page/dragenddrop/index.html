<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1,minimum-scale=1,maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="../../css/style.css">
    <title>Drag end Drop</title>
  </head>
  <body>

  <main id="main" role="main">
    <h1>Drag end Drop</h1> 

    <a class="back" href="/my-scripts/">Назад</a>
    <section class="demonstration">

      <ul class="position-dragenddrop">
        <li id="all"></li>
        <li id="x"></li>
        <li id="y"></li>
      </ul>

      <div class="container-dragenddrop">
        <div class="move-dragenddrop"></div>
      </div>

      <div class="container-dragenddrop">
        <div class="move-dragenddrop"></div>
      </div>

      <div class="container-dragenddrop">
        <div class="move-dragenddrop"></div>
      </div>

    </section>

<pre class="javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">new</span> MoveElement<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span>
  <span style="color: #009900;">&#123;</span>
    container<span style="color: #339933;">:</span> document.<span style="color: #660066;">getElementsByClassName</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'container-dragenddrop'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">0</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span>
    element<span style="color: #339933;">:</span> document.<span style="color: #660066;">getElementsByClassName</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'move-dragenddrop'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">0</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span>
&nbsp;
    <span style="color: #006600; font-style: italic;">// ОТОБРАЗИТЬ СТАРТОВЫЕ ПОЗИЦИИ</span>
    showPosition<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>obj<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
      document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'all'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">textContent</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'X:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">x</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">' Y:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">y</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
&nbsp;
    <span style="color: #006600; font-style: italic;">// СОБЫТИЯ:</span>
    <span style="color: #006600; font-style: italic;">// 'start' - (mousedown/touchstart)</span>
    <span style="color: #006600; font-style: italic;">// 'move' - (mousemove/touchmove)</span>
    <span style="color: #006600; font-style: italic;">// 'stop' - (mouseup/touchend)</span>
    events<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>obj<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
      <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>obj.<span style="color: #660066;">checkEvent</span> <span style="color: #339933;">===</span> <span style="color: #3366CC;">'start'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'all'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">textContent</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'X:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">x</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">' Y:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">y</span><span style="color: #339933;">;</span>
      <span style="color: #009900;">&#125;</span>
      <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>obj.<span style="color: #660066;">checkEvent</span> <span style="color: #339933;">===</span> <span style="color: #3366CC;">'move'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'all'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">textContent</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'X:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">x</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">' Y:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">y</span><span style="color: #339933;">;</span>
      <span style="color: #009900;">&#125;</span>
      <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>obj.<span style="color: #660066;">checkEvent</span> <span style="color: #339933;">===</span> <span style="color: #3366CC;">'stop'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'all'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">textContent</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'X:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">x</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">' Y:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">y</span><span style="color: #339933;">;</span>
      <span style="color: #009900;">&#125;</span>
    <span style="color: #009900;">&#125;</span>
  <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
    container<span style="color: #339933;">:</span> document.<span style="color: #660066;">getElementsByClassName</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'container-dragenddrop'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span>
    element<span style="color: #339933;">:</span> document.<span style="color: #660066;">getElementsByClassName</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'move-dragenddrop'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span>
    positionAxis<span style="color: #339933;">:</span> <span style="color: #3366CC;">'x'</span><span style="color: #339933;">,</span>
    showPosition<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>obj<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
      document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'x'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">textContent</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'X:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">x</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
    events<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>obj<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
      <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>obj.<span style="color: #660066;">checkEvent</span> <span style="color: #339933;">===</span> <span style="color: #3366CC;">'start'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'x'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">textContent</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'X:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">x</span><span style="color: #339933;">;</span>
      <span style="color: #009900;">&#125;</span>
      <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>obj.<span style="color: #660066;">checkEvent</span> <span style="color: #339933;">===</span> <span style="color: #3366CC;">'move'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'x'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">textContent</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'X:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">x</span><span style="color: #339933;">;</span>
      <span style="color: #009900;">&#125;</span>
      <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>obj.<span style="color: #660066;">checkEvent</span> <span style="color: #339933;">===</span> <span style="color: #3366CC;">'stop'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'x'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">textContent</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'X:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">x</span><span style="color: #339933;">;</span>
      <span style="color: #009900;">&#125;</span>
    <span style="color: #009900;">&#125;</span>
  <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#123;</span>
    container<span style="color: #339933;">:</span> document.<span style="color: #660066;">getElementsByClassName</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'container-dragenddrop'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">2</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span>
    element<span style="color: #339933;">:</span> document.<span style="color: #660066;">getElementsByClassName</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'move-dragenddrop'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">2</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span>
    positionAxis<span style="color: #339933;">:</span> <span style="color: #3366CC;">'y'</span><span style="color: #339933;">,</span>
    showPosition<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>obj<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
      document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'y'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">textContent</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'Y:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">y</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span>
    events<span style="color: #339933;">:</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>obj<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
      <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>obj.<span style="color: #660066;">checkEvent</span> <span style="color: #339933;">===</span> <span style="color: #3366CC;">'start'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'y'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">textContent</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'Y:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">y</span><span style="color: #339933;">;</span>
      <span style="color: #009900;">&#125;</span>
      <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>obj.<span style="color: #660066;">checkEvent</span> <span style="color: #339933;">===</span> <span style="color: #3366CC;">'move'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'y'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">textContent</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'Y:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">y</span><span style="color: #339933;">;</span>
      <span style="color: #009900;">&#125;</span>
      <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>obj.<span style="color: #660066;">checkEvent</span> <span style="color: #339933;">===</span> <span style="color: #3366CC;">'stop'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'y'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">textContent</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'Y:'</span> <span style="color: #339933;">+</span> obj.<span style="color: #660066;">y</span><span style="color: #339933;">;</span>
      <span style="color: #009900;">&#125;</span>
    <span style="color: #009900;">&#125;</span>
  <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre>

  </main>
    
  <script src="../../js/move-element.js"></script>
  
  <script id="script">
new MoveElement([
  {
    container: document.getElementsByClassName('container-dragenddrop')[0],
    element: document.getElementsByClassName('move-dragenddrop')[0],

    // ОТОБРАЗИТЬ СТАРТОВЫЕ ПОЗИЦИИ
    showPosition: function(obj) {
      document.getElementById('all').textContent = 'X:' + obj.x + ' Y:' + obj.y;
    },

    // СОБЫТИЯ:
    // 'start' - (mousedown/touchstart)
    // 'move' - (mousemove/touchmove)
    // 'stop' - (mouseup/touchend)
    events: function(obj) {
      if (obj.checkEvent === 'start') {
        document.getElementById('all').textContent = 'X:' + obj.x + ' Y:' + obj.y;
      }
      if (obj.checkEvent === 'move') {
        document.getElementById('all').textContent = 'X:' + obj.x + ' Y:' + obj.y;
      }
      if (obj.checkEvent === 'stop') {
        document.getElementById('all').textContent = 'X:' + obj.x + ' Y:' + obj.y;
      }
    }
  }, {
    container: document.getElementsByClassName('container-dragenddrop')[1],
    element: document.getElementsByClassName('move-dragenddrop')[1],
    positionAxis: 'x',
    showPosition: function(obj) {
      document.getElementById('x').textContent = 'X:' + obj.x;
    },
    events: function(obj) {
      if (obj.checkEvent === 'start') {
        document.getElementById('x').textContent = 'X:' + obj.x;
      }
      if (obj.checkEvent === 'move') {
        document.getElementById('x').textContent = 'X:' + obj.x;
      }
      if (obj.checkEvent === 'stop') {
        document.getElementById('x').textContent = 'X:' + obj.x;
      }
    }
  }, {
    container: document.getElementsByClassName('container-dragenddrop')[2],
    element: document.getElementsByClassName('move-dragenddrop')[2],
    positionAxis: 'y',
    showPosition: function(obj) {
      document.getElementById('y').textContent = 'Y:' + obj.y;
    },
    events: function(obj) {
      if (obj.checkEvent === 'start') {
        document.getElementById('y').textContent = 'Y:' + obj.y;
      }
      if (obj.checkEvent === 'move') {
        document.getElementById('y').textContent = 'Y:' + obj.y;
      }
      if (obj.checkEvent === 'stop') {
        document.getElementById('y').textContent = 'Y:' + obj.y;
      }
    }
  }
]);
  </script>

  </body>
</html>
